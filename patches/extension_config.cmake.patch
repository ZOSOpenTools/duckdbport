From 07365825fc96cd7df7d1c703f254eeae6608bd36 Mon Sep 17 00:00:00 2001
From: v1gnesh <v1gnesh@users.noreply.github.com>
Date: Sat, 19 Aug 2023 11:16:10 +0530
Subject: [PATCH] Update extension_config.cmake

Add jemalloc exclusion for zOS
---
 extension/extension_config.cmake | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

diff --git a/extension/extension_config.cmake b/extension/extension_config.cmake
index c60873090bc..83a8e2c4903 100644
--- a/extension/extension_config.cmake
+++ b/extension/extension_config.cmake
@@ -11,6 +11,6 @@
 duckdb_extension_load(parquet)
 
 # Jemalloc is enabled by default for linux. MacOS malloc is already good enough and Jemalloc on windows has issues.
-if(NOT WASM_LOADABLE_EXTENSIONS AND NOT CLANG_TIDY AND OS_NAME STREQUAL "linux" AND NOT ANDROID)
+if(NOT WASM_LOADABLE_EXTENSIONS AND NOT CLANG_TIDY AND OS_NAME STREQUAL "linux" AND NOT ANDROID AND NOT ZOS)
     duckdb_extension_load(jemalloc)
-endif()
\ No newline at end of file
+endif()
